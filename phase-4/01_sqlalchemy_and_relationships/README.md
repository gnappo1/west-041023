# SQLAlchemy Associations

## Learning Goals

- Explain what SQLAlchemy is and how it benefits us as an ORM
    - Demonstrate creating a database with SQLAlchemy 
    - Demonstrate creating a schema
    - Demonstrate creating columns with SQLAlchemy
    - Demonstrate creating column constraints with SQLAlchemy 
    - Demonstrate creating indexes with SQLAlchemy 
    - Demonstrate creating default values 

- Explain Alembic and what it does for us
    - Demonstrate configuring an application to use Alembic 
    - Demonstrate creating migrations using Alembic
    - Demonstrate creating manual migrations using Alembic
    - Demonstrate CRUD in SQLAlcehmy
        - Adding data with .commit
            - `.all`, `.order_by`, `desc`, `limit`, `funcfilter`, and loop compression to grab specific columns 
        - Querying data with `.query`
        - Updating data with `.update` and `.commit`
        - Deleting data with `.delete`

- Review relationships, Primary keys, and Foreign keys
- Demonstrate creating a table with a Foreign key and referencing another table using `relationship()` and `backref()`
- Demonstrate using Alembic to generate tables with relationships 
- Demonstrate querying methods to view table relationships
- Demonstrate a “one to many” association
- Demonstrate a “many to many” association with a join model 
- Stretch Goal
    - Demonstrate using a CLI to access a backend application

### Changes in the autogenerated files not to forget

- In *alembic.ini*, find `sqlalchemy.url` and set it to `sqlalchemy.url = sqlite:///pet_app.db`
- In *env.py*, find `target_metadata`(line 20) and add `from models import Base` above it. Next, set target_metadata to `target_metadata = Base.metadata`
- In *env.py*, replace line 68 with ```python            connection=connection, target_metadata=target_metadata, render_as_batch=True```
